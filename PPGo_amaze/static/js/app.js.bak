var upColor = '#ec0000';
var downColor = '#00da3c';
var testValue = "Test";
var testValue1 = 1000;
var testValue2 = 1001;
var testValue3 = 1000;
var testValue4 = 1001;

function splitData(rawData) {
    var categoryData = [];
    var values = [];
    var volumes = [];
	// [date, open, close, lowest, highest, volumn]
    for (var i = 0; i < rawData.length; i++) {
        categoryData.push(rawData[i].splice(0, 1)[0]);
    	var tmp = [];
		//tmp.push(parseFloat(rawData[i][0]));
		//tmp.push(parseFloat(rawData[i][1]));
		//tmp.push(parseFloat(rawData[i][2]));
		//tmp.push(parseFloat(rawData[i][3]));
		//tmp.push(parseFloat(rawData[i][4]));
        //values.push(tmp);
        values.push(rawData[i]);
        volumes.push([i, rawData[i][4], rawData[i][0] > rawData[i][1] ? 1 : -1]);
    }

    return {
        categoryData: categoryData,
        values: values,
        volumes: volumes
    };
}

function calculateMA(dayCount, data) {
    var result = [];
    for (var i = 0, len = data.values.length; i < len; i++) {
        if (i < dayCount) {
            result.push('-');
            continue;
        }
        var sum = 0;
        for (var j = 0; j < dayCount; j++) {
            sum += data.values[i - j][1];
        }
        result.push(+(sum / dayCount).toFixed(3));
    }
    return result;
}


$(function() {
    // 读取body data-type 判断是哪个页面然后执行相应页面方法，方法在下面。
    var dataType = $('body').attr('data-type');
    console.log(dataType);
    for (key in pageData) {
        if (key == dataType) {
            pageData[key]();
        }
    }
    //     // 判断用户是否已有自己选择的模板风格
    //    if(storageLoad('SelcetColor')){
    //      $('body').attr('class',storageLoad('SelcetColor').Color)
    //    }else{
    //        storageSave(saveSelectColor);
    //        $('body').attr('class','theme-black')
    //    }

    autoLeftNav();
    $(window).resize(function() {
        autoLeftNav();
        console.log($(window).width())
    });

    //    if(storageLoad('SelcetColor')){

    //     }else{
    //       storageSave(saveSelectColor);
    //     }
})


// 页面数据
var pageData = {
    // ===============================================
    // 首页
    // ===============================================
    'index': function indexData() {
        $('#example-r').DataTable({

            bInfo: false, //页脚信息
            dom: 'ti'
        });


        // ==========================
        // 百度图表A http://echarts.baidu.com/
        // ==========================

        var echartsA = echarts.init(document.getElementById('tpl-echarts'));
        option = {
            tooltip: {
                trigger: 'axis'
            },
            grid: {
                top: '3%',
                left: '3%',
                right: '4%',
                bottom: '3%',
                containLabel: true
            },
            xAxis: [{
                type: 'category',
                boundaryGap: false,
                data: ['周一', '周二', '周三', '周四', '周五', '周六', '周日']
            }],
            yAxis: [{
                type: 'value'
            }],
            textStyle: {
                color: '#838FA1'
            },
            series: [{
                name: '邮件营销',
                type: 'line',
                stack: '总量',
                areaStyle: { normal: {} },
                data: [120, 132, 101, 134, 90],
                itemStyle: {
                    normal: {
                        color: '#1cabdb',
                        borderColor: '#1cabdb',
                        borderWidth: '2',
                        borderType: 'solid',
                        opacity: '1'
                    },
                    emphasis: {

                    }
                }
            }]
        };

        echartsA.setOption(option);
    },
    // ===============================================
    // 图表页
    // ===============================================
    'chart': function chartData() {
        var rawData = [["2017-06-01",1757.80,1728.49,1728.49,1757.89,968655982],["2017-06-02",1721.40,1745.93,1711.82,1754.21,1039365356],["2017-06-05",1747.53,1761.25,1747.53,1767.29,1002584093],["2017-06-06",1759.29,1766.39,1758.32,1773.07,825110140],["2017-06-07",1764.96,1799.85,1762.73,1802.52,1300007819],["2017-06-08",1798.69,1794.75,1792.10,1804.66,1046717851],["2017-06-09",1793.65,1796.13,1782.18,1797.64,882881696],["2017-06-12",1787.56,1775.55,1773.53,1787.56,816923826],["2017-06-13",1773.01,1795.63,1771.85,1800.20,932835445],["2017-06-14",1794.04,1790.64,1787.06,1798.20,976444090],["2017-06-15",1788.81,1816.26,1788.43,1823.42,1546179525],["2017-06-16",1816.16,1810.05,1809.48,1819.10,1157799805],["2017-06-19",1809.51,1816.40,1805.88,1817.50,899597849],["2017-06-20",1818.69,1820.98,1818.69,1833.94,1227510271],["2017-06-21",1827.89,1824.69,1810.04,1829.40,1279554716],["2017-06-22",1821.84,1798.38,1798.38,1828.80,1205685737],["2017-06-23",1794.50,1807.43,1776.60,1807.43,1093376323],["2017-06-26",1805.88,1821.28,1801.21,1821.28,983073130],["2017-06-27",1821.37,1819.93,1816.66,1830.22,924574048],["2017-06-28",1817.43,1808.20,1802.38,1818.11,911817012],["2017-06-29",1808.29,1813.55,1807.62,1822.82,1019323864],["2017-06-30",1808.08,1818.07,1802.61,1819.88,897123460]];
		//var rawData = [["2017-06-01","1757.80","1728.49","1728.49","1757.89","968655982"],["2017-06-02","1721.40","1745.93","1711.82","1754.21","1039365356"],["2017-06-05","1747.53","1761.25","1747.53","1767.29","1002584093"],["2017-06-06","1759.29","1766.39","1758.32","1773.07","825110140"],["2017-06-07","1764.96","1799.85","1762.73","1802.52","1300007819"],["2017-06-08","1798.69","1794.75","1792.10","1804.66","1046717851"],["2017-06-09","1793.65","1796.13","1782.18","1797.64","882881696"],["2017-06-12","1787.56","1775.55","1773.53","1787.56","816923826"],["2017-06-13","1773.01","1795.63","1771.85","1800.20","932835445"],["2017-06-14","1794.04","1790.64","1787.06","1798.20","976444090"],["2017-06-15","1788.81","1816.26","1788.43","1823.42","1546179525"],["2017-06-16","1816.16","1810.05","1809.48","1819.10","1157799805"],["2017-06-19","1809.51","1816.40","1805.88","1817.50","899597849"],["2017-06-20","1818.69","1820.98","1818.69","1833.94","1227510271"],["2017-06-21","1827.89","1824.69","1810.04","1829.40","1279554716"],["2017-06-22","1821.84","1798.38","1798.38","1828.80","1205685737"],["2017-06-23","1794.50","1807.43","1776.60","1807.43","1093376323"],["2017-06-26","1805.88","1821.28","1801.21","1821.28","983073130"],["2017-06-27","1821.37","1819.93","1816.66","1830.22","924574048"],["2017-06-28","1817.43","1808.20","1802.38","1818.11","911817012"],["2017-06-29","1808.29","1813.55","1807.62","1822.82","1019323864"],["2017-06-30","1808.08","1818.07","1802.61","1819.88","897123460"],["2017-07-03","1818.20","1835.99","1816.03","1836.49","1400424664"],["2017-07-04","1833.89","1829.51","1823.85","1834.24","1221274565"],["2017-07-05","1827.26","1836.63","1820.96","1836.66","1224162942"],["2017-07-06","1835.81","1839.00","1823.37","1844.20","1533041227"],["2017-07-07","1833.88","1835.44","1828.72","1836.78","1128894696"],["2017-07-10","1831.37","1803.25","1803.23","1831.37","1239634454"],["2017-07-11","1799.52","1783.91","1783.91","1804.72","1159120071"],["2017-07-12","1779.90","1786.75","1764.10","1788.69","1131963878"],["2017-07-13","1784.26","1778.86","1774.78","1786.22","897337805"],["2017-07-14","1771.33","1745.57","1742.22","1771.33","1436027181"],["2017-07-17","1730.70","1656.43","1656.43","1730.70","1707097106"],["2017-07-18","1646.64","1667.49","1641.38","1672.72","1129502032"],["2017-07-19","1663.16","1684.77","1654.77","1685.74","1086678204"],["2017-07-20","1684.26","1688.61","1683.11","1712.70","1140287672"],["2017-07-21","1688.79","1690.15","1685.79","1699.67","986538875"],["2017-07-24","1685.71","1686.44","1674.72","1689.38","1024121869"],["2017-07-25","1686.57","1688.09","1680.95","1694.40","1074423644"],["2017-07-26","1689.48","1681.31","1674.22","1692.62","1194902125"],["2017-07-27","1678.87","1742.19","1675.30","1742.92","2488760110"],["2017-07-28","1740.54","1734.07","1732.89","1746.54","2003459603"],["2017-07-31","1731.92","1736.30","1725.50","1744.05","1667420370"],["2017-08-01","1735.91","1741.07","1727.59","1742.01","1648155731"],["2017-08-02","1740.39","1724.83","1723.23","1744.30","1619457530"],["2017-08-03","1723.03","1733.12","1716.53","1757.76","1940498983"],["2017-08-04","1731.03","1719.62","1718.91","1734.18","1580238028"],["2017-08-07","1722.24","1732.43","1720.99","1743.62","1360553405"],["2017-08-08","1731.73","1762.42","1728.59","1762.44","1850632401"],["2017-08-09","1756.50","1763.05","1751.83","1770.75","1798280907"],["2017-08-10","1761.43","1753.67","1741.40","1777.19","1675499100"],["2017-08-11","1742.00","1742.14","1738.14","1763.91","1682688496"],["2017-08-14","1745.01","1793.48","1745.01","1794.07","2072737586"],["2017-08-15","1796.24","1798.57","1785.62","1803.19","1741150770"],["2017-08-16","1797.05","1825.19","1792.72","1835.62","2703545858"],["2017-08-17","1819.43","1833.40","1816.14","1845.25","2384019250"],["2017-08-18","1822.07","1821.80","1817.64","1835.67","1823481952"],["2017-08-21","1823.37","1829.22","1818.86","1834.66","1681845650"],["2017-08-22","1829.40","1814.92","1811.97","1831.66","1707649521"],["2017-08-23","1813.43","1807.37","1801.15","1818.65","1500036906"],["2017-08-24","1807.85","1795.74","1792.70","1812.08","1342294487"],["2017-08-25","1794.70","1812.88","1794.70","1814.54","1377372115"],["2017-08-28","1815.84","1842.83","1815.84","1856.21","2130398816"],["2017-08-29","1842.15","1831.59","1828.54","1850.82","1577742941"],["2017-08-30","1830.70","1838.63","1830.55","1849.24","1377078825"],["2017-08-31","1841.00","1849.38","1839.81","1850.81","1358343776"],["2017-09-01","1850.02","1865.25","1840.52","1865.81","1858590793"],["2017-09-04","1863.02","1883.62","1858.39","1888.98","2224299088"],["2017-09-05","1881.67","1885.16","1873.16","1891.79","2012378371"],["2017-09-06","1880.70","1902.86","1877.27","1902.86","2263568021"],["2017-09-07","1904.54","1890.38","1889.33","1917.96","2654169474"],["2017-09-08","1888.39","1885.27","1872.91","1895.86","1813896841"],["2017-09-11","1883.65","1896.38","1880.14","1896.38","1726917689"],["2017-09-12","1897.52","1884.48","1882.57","1904.30","2278270260"],["2017-09-13","1884.54","1888.43","1874.87","1888.44","1680455633"],["2017-09-14","1887.36","1879.25","1874.22","1892.99","1609142205"],["2017-09-15","1877.17","1875.63","1869.63","1882.53","1613209113"],["2017-09-18","1874.45","1894.80","1873.97","1894.81","1518168819"],["2017-09-19","1896.62","1880.30","1877.14","1901.27","1571648467"],["2017-09-20","1878.57","1892.67","1876.68","1892.67","1473208219"],["2017-09-21","1892.95","1872.77","1872.65","1898.21","1543880742"],["2017-09-22","1869.11","1866.42","1854.94","1871.24","1357118918"],["2017-09-25","1864.86","1843.62","1841.36","1869.39","1269911846"],["2017-09-26","1840.48","1839.46","1826.92","1848.14","1091399065"],["2017-09-27","1840.16","1854.94","1840.16","1857.33","1155519998"],["2017-09-28","1853.38","1854.73","1852.46","1864.25","1324684739"],["2017-09-29","1858.06","1866.98","1856.86","1866.98","1314492751"],["2017-10-09","1889.89","1889.84","1880.39","1894.91","1699083420"],["2017-10-10","1890.66","1917.46","1887.47","1917.46","1961012156"],["2017-10-11","1918.35","1901.55","1899.96","1924.00","1860197428"],["2017-10-12","1900.87","1899.99","1889.44","1909.48","1400664539"],["2017-10-13","1901.18","1926.07","1898.34","1927.02","1649939558"],["2017-10-16","1920.94","1882.69","1882.69","1921.64","2020754835"],["2017-10-17","1876.69","1876.99","1868.92","1888.62","1211952328"],["2017-10-18","1878.29","1868.16","1867.83","1890.32","1303238635"],["2017-10-19","1865.93","1862.61","1855.36","1876.67","1254925382"],["2017-10-20","1858.62","1880.21","1856.10","1880.21","1054229902"],["2017-10-23","1881.41","1898.76","1878.34","1900.38","1186565952"],["2017-10-24","1895.44","1901.69","1882.68","1901.69","1256381289"],["2017-10-25","1898.63","1913.26","1893.94","1913.26","1146283464"],["2017-10-26","1911.85","1910.72","1902.27","1918.79","1430876680"],["2017-10-27","1909.57","1896.22","1895.26","1910.93","1175757410"],["2017-10-30","1894.86","1855.99","1848.04","1902.05","1696989057"],["2017-10-31","1855.94","1869.79","1855.23","1869.79","1132921821"],["2017-11-01","1867.99","1872.75","1866.52","1881.49","1223092792"],["2017-11-02","1869.72","1847.57","1847.41","1869.72","1291124466"],["2017-11-03","1843.80","1832.97","1825.29","1856.22","1266586718"],["2017-11-06","1831.90","1850.30","1818.41","1850.30","1174901339"],["2017-11-07","1849.32","1859.07","1843.92","1859.11","1350249824"],["2017-11-08","1858.64","1866.14","1856.39","1881.05","1716589653"],["2017-11-09","1864.25","1884.11","1858.73","1884.11","1546383548"],["2017-11-10","1882.72","1900.63","1882.28","1905.06","1630856612"],["2017-11-13","1904.58","1906.44","1895.87","1911.17","1619512289"],["2017-11-14","1908.04","1896.72","1888.86","1912.49","1665116060"],["2017-11-15","1892.65","1868.08","1861.59","1894.61","1412636465"],["2017-11-16","1865.72","1878.26","1859.77","1883.02","1325234118"],["2017-11-17","1879.43","1833.90","1831.01","1884.02","1873153056"],["2017-11-20","1819.17","1859.75","1795.69","1859.75","1422220416"],["2017-11-21","1856.73","1856.96","1844.42","1871.71","1527072094"],["2017-11-22","1854.58","1853.38","1837.30","1867.79","1633881174"],["2017-11-23","1848.22","1794.78","1793.49","1848.22","1539243809"],["2017-11-24","1789.51","1782.66","1782.60","1804.21","1213267197"],["2017-11-27","1781.22","1760.90","1758.45","1794.01","1218445091"],["2017-11-28","1761.52","1793.87","1761.52","1794.14","1193350669"],["2017-11-29","1793.28","1787.38","1767.63","1795.51","1195216760"],["2017-11-30","1783.23","1770.30","1765.30","1792.14","1099139207"],["2017-12-01","1772.04","1804.62","1771.89","1808.69","1385731145"],["2017-12-04","1803.03","1797.77","1795.13","1812.40","1229802563"],["2017-12-05","1794.70","1758.59","1746.12","1799.88","1298957753"],["2017-12-06","1755.77","1784.31","1744.49","1784.82","1337524822"],["2017-12-07","1780.97","1776.99","1774.99","1791.06","1134521287"],["2017-12-08","1776.26","1792.16","1776.26","1803.36","1183250500"],["2017-12-11","1800.13","1816.98","1800.13","1816.98","1353967896"],["2017-12-12","1818.41","1798.69","1798.69","1821.48","1227814025"],["2017-12-13","1795.47","1806.09","1787.71","1806.19","1031268729"],["2017-12-14","1804.19","1794.34","1787.67","1809.67","1074166088"],["2017-12-15","1793.24","1783.97","1780.27","1801.41","1174846387"],["2017-12-18","1784.41","1780.64","1773.32","1790.87","1000922551"],["2017-12-19","1781.81","1798.50","1781.81","1802.58","1092266120"],["2017-12-20","1798.36","1782.41","1779.68","1799.36","1067530753"]];
        var dataBase = splitData(rawData);
        var echartsC = echarts.init(document.getElementById('tpl-echarts-C'));
        optionC = {
            backgroundColor: '#fff',
            animation: false,
            legend: {
                bottom: 10,
                left: 'center',
                data: ['Dow-Jones index', 'MA5', 'MA10', 'MA20', 'MA30']
            },
            tooltip: {
                trigger: 'axis',
                axisPointer: {
                    type: 'cross'
                },
                backgroundColor: 'rgba(245, 245, 245, 0.8)',
                borderWidth: 1,
                borderColor: '#ccc',
                padding: 10,
                textStyle: {
                    color: '#000'
                },
                position: function (pos, params, el, elRect, size) {
                    var obj = {top: 10};
                    obj[['left', 'right'][+(pos[0] < size.viewSize[0] / 2)]] = 30;
                    return obj;
                }
                // extraCssText: 'width: 170px'
            },
            axisPointer: {
                link: {xAxisIndex: 'all'},
                label: {
                    backgroundColor: '#777'
                }
            },
            toolbox: {
                feature: {
                    dataZoom: {
                        yAxisIndex: false
                    },
                    brush: {
                        type: ['lineX', 'clear']
                    }
                }
            },
            brush: {
                xAxisIndex: 'all',
                brushLink: 'all',
                outOfBrush: {
                    colorAlpha: 0.1
                }
            },
            visualMap: {
                show: false,
                seriesIndex: 5,
                dimension: 2,
                pieces: [{
                    value: 1,
                    color: downColor
                }, {
                    value: -1,
                    color: upColor
                }]
            },
            grid: [
                {
                    left: '10%',
                    right: '8%',
                    height: '50%'
                },
                {
                    left: '10%',
                    right: '8%',
                    top: '63%',
                    height: '16%'
                }
            ],
            xAxis: [
                {
                    type: 'category',
                    data: dataBase.categoryData,
                    scale: true,
                    boundaryGap : false,
                    axisLine: {onZero: false},
                    splitLine: {show: false},
                    splitNumber: 20,
                    min: 'dataMin',
                    max: 'dataMax',
                    axisPointer: {
                        z: 100
                    }
                },
                {
                    type: 'category',
                    gridIndex: 1,
                    data: dataBase.categoryData,
                    scale: true,
                    boundaryGap : false,
                    axisLine: {onZero: false},
                    axisTick: {show: false},
                    splitLine: {show: false},
                    axisLabel: {show: false},
                    splitNumber: 20,
                    min: 'dataMin',
                    max: 'dataMax'
                }
            ],
            yAxis: [
                {
                    scale: true,
                    splitArea: {
                        show: true
                    }
                },
                {
                    scale: true,
                    gridIndex: 1,
                    splitNumber: 2,
                    axisLabel: {show: false},
                    axisLine: {show: false},
                    axisTick: {show: false},
                    splitLine: {show: false}
                }
            ],
            dataZoom: [
                {
                    type: 'inside',
                    xAxisIndex: [0, 1],
                    start: 98,
                    end: 100
                },
                {
                    show: true,
                    xAxisIndex: [0, 1],
                    type: 'slider',
                    top: '85%',
                    start: 98,
                    end: 100
                }
            ],
            series: [
                {
                    name: 'Dow-Jones index',
                    type: 'candlestick',
                    data: dataBase.values,
                    itemStyle: {
                        normal: {
                            color: upColor,
                            color0: downColor,
                            borderColor: null,
                            borderColor0: null
                        }
                    },
					// [date, open, close, lowest, highest, volumn]
                    tooltip: {
						trigger: 'axis',
                        formatter: function (param) {
                            param = param[0];
                            return [
                                'Date: ' + testValue + '<hr size=1 style="margin: 3px 0">',
                                'Open: ' + testValue1 + '<br/>',
                                'Close: ' + testValue1 + '<br/>',
                                'Lowest: ' + testValue1 + '<br/>',
                                'Highest: ' + param + '<br/>'
                            ].join('');
                        }
                    }
                },
                {
                    name: 'MA5',
                    type: 'line',
                    data: calculateMA(5, dataBase),
                    smooth: true,
                    lineStyle: {
                        normal: {opacity: 0.5}
                    }
                },
                {
                    name: 'MA10',
                    type: 'line',
                    data: calculateMA(10, dataBase),
                    smooth: true,
                    lineStyle: {
                        normal: {opacity: 0.5}
                    }
                },
                {
                    name: 'MA20',
                    type: 'line',
                    data: calculateMA(20, dataBase),
                    smooth: true,
                    lineStyle: {
                        normal: {opacity: 0.5}
                    }
                },
                {
                    name: 'MA30',
                    type: 'line',
                    data: calculateMA(30, dataBase),
                    smooth: true,
                    lineStyle: {
                        normal: {opacity: 0.5}
                    }
                },
                {
                    name: 'Volume',
                    type: 'bar',
                    xAxisIndex: 1,
                    yAxisIndex: 1,
                    data: dataBase.volumes
                }
            ]
        };
        echartsC.setOption(optionC);
        echartsC.dispatchAction({
            type: 'brush',
            areas: [
                {
                    brushType: 'lineX',
                    coordRange: ['2017-06-01', '2017-06-30'],
                    //coordRange: ['2017-06-01', '2017-12-20'],
                    xAxisIndex: 0
                }
            ]
        });


        var echartsB = echarts.init(document.getElementById('tpl-echarts-B'));
        optionB = {
            tooltip: {
                trigger: 'axis'
            },
            legend: {
                x: 'center',
                data: ['某软件', '某主食手机', '某水果手机', '降水量', '蒸发量']
            },
            radar: [{
                    indicator: [
                        { text: '品牌', max: 100 },
                        { text: '内容', max: 100 },
                        { text: '可用性', max: 100 },
                        { text: '功能', max: 100 }
                    ],
                    center: ['25%', '40%'],
                    radius: 80
                },
                {
                    indicator: [
                        { text: '外观', max: 100 },
                        { text: '拍照', max: 100 },
                        { text: '系统', max: 100 },
                        { text: '性能', max: 100 },
                        { text: '屏幕', max: 100 }
                    ],
                    radius: 80,
                    center: ['50%', '60%'],
                },
                {
                    indicator: (function() {
                        var res = [];
                        for (var i = 1; i <= 12; i++) {
                            res.push({ text: i + '月', max: 100 });
                        }
                        return res;
                    })(),
                    center: ['75%', '40%'],
                    radius: 80
                }
            ],
            series: [{
                    type: 'radar',
                    tooltip: {
                        trigger: 'item'
                    },
                    itemStyle: { normal: { areaStyle: { type: 'default' } } },
                    data: [{
                        value: [60, 73, 85, 40],
                        name: '某软件'
                    }]
                },
                {
                    type: 'radar',
                    radarIndex: 1,
                    data: [{
                            value: [85, 90, 90, 95, 95],
                            name: '某主食手机'
                        },
                        {
                            value: [95, 80, 95, 90, 93],
                            name: '某水果手机'
                        }
                    ]
                },
                {
                    type: 'radar',
                    radarIndex: 2,
                    itemStyle: { normal: { areaStyle: { type: 'default' } } },
                    data: [{
                            name: '降水量',
                            value: [2.6, 5.9, 9.0, 26.4, 28.7, 70.7, 75.6, 82.2, 48.7, 18.8, 6.0, 2.3],
                        },
                        {
                            name: '蒸发量',
                            value: [2.0, 4.9, 7.0, 23.2, 25.6, 76.7, 35.6, 62.2, 32.6, 20.0, 6.4, 3.3]
                        }
                    ]
                }
            ]
        };
        echartsB.setOption(optionB);
        var echartsA = echarts.init(document.getElementById('tpl-echarts-A'));
        option = {

            tooltip: {
                trigger: 'axis',
            },
            legend: {
                data: ['邮件', '媒体', '资源']
            },
            grid: {
                left: '3%',
                right: '4%',
                bottom: '3%',
                containLabel: true
            },
            xAxis: [{
                type: 'category',
                boundaryGap: true,
                data: ['周一', '周二', '周三', '周四', '周五', '周六', '周日']
            }],

            yAxis: [{
                type: 'value'
            }],
            series: [{
                    name: '邮件',
                    type: 'line',
                    stack: '总量',
                    areaStyle: { normal: {} },
                    data: [120, 132, 101, 134, 90, 230, 210],
                    itemStyle: {
                        normal: {
                            color: '#59aea2'
                        },
                        emphasis: {

                        }
                    }
                },
                {
                    name: '媒体',
                    type: 'line',
                    stack: '总量',
                    areaStyle: { normal: {} },
                    data: [220, 182, 191, 234, 290, 330, 310],
                    itemStyle: {
                        normal: {
                            color: '#e7505a'
                        }
                    }
                },
                {
                    name: '资源',
                    type: 'line',
                    stack: '总量',
                    areaStyle: { normal: {} },
                    data: [150, 232, 201, 154, 190, 330, 410],
                    itemStyle: {
                        normal: {
                            color: '#32c5d2'
                        }
                    }
                }
            ]
        };
        echartsA.setOption(option);
    }
}


// 风格切换

$('.tpl-skiner-toggle').on('click', function() {
    $('.tpl-skiner').toggleClass('active');
})

$('.tpl-skiner-content-bar').find('span').on('click', function() {
    $('body').attr('class', $(this).attr('data-color'))
    saveSelectColor.Color = $(this).attr('data-color');
    // 保存选择项
    storageSave(saveSelectColor);

})




// 侧边菜单开关


function autoLeftNav() {



    $('.tpl-header-switch-button').on('click', function() {
        if ($('.left-sidebar').is('.active')) {
            if ($(window).width() > 1024) {
                $('.tpl-content-wrapper').removeClass('active');
            }
            $('.left-sidebar').removeClass('active');
        } else {

            $('.left-sidebar').addClass('active');
            if ($(window).width() > 1024) {
                $('.tpl-content-wrapper').addClass('active');
            }
        }
    })

    if ($(window).width() < 1024) {
        $('.left-sidebar').addClass('active');
    } else {
        $('.left-sidebar').removeClass('active');
    }
}


// 侧边菜单
$('.sidebar-nav-sub-title').on('click', function() {
    $(this).siblings('.sidebar-nav-sub').slideToggle(80)
        .end()
        .find('.sidebar-nav-sub-ico').toggleClass('sidebar-nav-sub-ico-rotate');
})